@model WebSite.Models.Data.NotificationSettings
<h2>Subscription Settings</h2>
<div style="padding-top: 10px; padding-bottom: 10px;">
@if (ViewBag.IsTrialMember && !ViewBag.IsUsingCancelledSubscription)
{
    if (ViewBag.IsTrialExpired)
    {
        <span>Your trial has expired. Please subscribe to continue enjoying our services! @Html.ActionLink("Subscribe Now", "Subscribe")</span>
    }
    else
    {
        <span>Your trial will expire in @(ViewBag.TrialDaysLeft) days. @Html.ActionLink("Subscribe now", "Subscribe") to ensure you receive uninterrupted service.</span>
    }
}
else if (ViewBag.IsUsingCancelledSubscription)
{
    <span>You have cancelled your subscription but may use the website until @ViewBag.SubscriptionExpiryDate. Please @Html.ActionLink("resubscribe", "Subscribe") to continue using the website after @ViewBag.SubscriptionExpiryDate.</span>
}
else
{
    <span>You have an active @ViewBag.SubscriptionFrequency subscription. @Html.ActionLink("Cancel Subscription", "CancelSubscription")</span>
}
</div>

<h2>Notification Settings</h2>
@if (ViewBag.SavedSuccessfully)
{
    <p class="message-success">Changes have been saved.</p>
}
@using (Html.BeginForm())
{
    <div style="padding-top: 10px;">
            @Html.CheckBoxFor(m => m.ReceiveDailyAlerts) @Html.LabelFor(m => m.ReceiveDailyAlerts, new { @style = "display: inline;" })<br />
            @Html.CheckBoxFor(m => m.ReceiveStockPicks) @Html.LabelFor(m => m.ReceiveStockPicks, new { @style = "display: inline;" })<br />
            @Html.CheckBoxFor(m => m.ReceiveOptionPicks) @Html.LabelFor(m => m.ReceiveOptionPicks, new { @style = "display: inline;" })<br />
            @Html.CheckBoxFor(m => m.ReceiveGeneralAnnouncements) @Html.LabelFor(m => m.ReceiveGeneralAnnouncements, new { @style = "display: inline;" })<br />
    </div>
    <div style="padding-top: 10px; width: 100%; text-align: right;">
        <input type="submit" value="Save Changes" />
    </div>
}